<?xml version="1.0"?>
<launch>
  <!-- run dual-laser localisation -->
  <node name="ndt_mcl" pkg="ndt_localization" type="ndt_mcl_localization" output="screen">
    <!-- jff file with map -->
    <param name="map_file" value="$(find oru_ipw_launch)/maps/ndt_fuser/oru_lab_map.jff" />
    <param name="sensor_pose_x" value="0.2087" />
    <param name="sensor_pose_y" value="0.0" />
    <param name="sensor_pose_z" value="0.63821" />
    <param name="sensor_pose_t" value="0" />

    <param name="pose_init_x" value="0" />
    <param name="pose_init_y" value="0" />
    <param name="pose_init_t" value="0" />

    <!-- resolution of jff map -->
    <param name="resolution" value="0.3" />
    <!-- show aprticles for debug purposes -->
    <param name="show_particles" value="false" />
    <!-- particle count for ndt-mcl -->
    <param name="particle_count" value="300" />
    <param name="show_pose" value="true"/>
    <param name="fraction" value="0.9"/>
    <param name="force_SIR" value="true" />
    <param name="input_topic_name" value="/sensors/laser/velodyne_packets" />
    <param name="Velodyne" value="true" />
    <param name="odom_tf" value="odom" />
    <param name="root_tf" value="map" />
    <param name="base_tf" value="base_link" />

    <rosparam param="begins">[1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 6.5, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5, 10.0, 10.5, 11.0, 11.5, 12.0, 12.5, 13.0, 13.5, 14.0, 14.5, 15.0, 15.5, 16.0, 16.5, 17.0, 17.5, 18.0, 18.5, 19.0, 19.5, 20.0, 20.5, 221.0, 21.5 ]</rosparam>
    <rosparam param="ends">[1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 6.5, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5, 10.0, 10.5, 11.0, 11.5, 12.0, 12.5, 13.0, 13.5, 14.0, 14.5, 15.0, 15.5, 16.0, 16.5, 17.0, 17.5, 18.0, 18.5, 19.0, 19.5, 20.0, 20.5, 221.0, 21.5, 22.0]</rosparam>
  </node>

  <node pkg="tf2_ros" type="static_transform_publisher"
        name="mcl_static_broadcaster" args="0 0 0 0 0 0 mcl odom" />
</launch>
